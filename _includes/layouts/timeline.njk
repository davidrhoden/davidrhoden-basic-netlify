---
layout: layouts/base.njk
pageType: timeline
section: timeline
---

<article>
  <h1>{{ title }}</h1>
  <p>
    <small>
      <time datetime="{{ date | machineDate }}"><span id="todays-date">{{ date | readableDate }}</span></time> by {{ metadata.author.name }}. Day <span id="days"></span>.
    </small>
  </p>

  {{ layoutContent | safe }}

  {% if tags %}
    <p>
    {% for tag in tags %}
      {%- if tag != "post" -%}
        {% set tagUrl %}/tags/{{ tag | slug }}/{% endset %}
        <a href="{{ tagUrl | url }}" rel="tag">{{ tag }}</a>
      {%- endif -%}
    {% endfor %}
    </p>
  {% endif %}

</article>

{% if nextPost.url %}
  <p class="ctr">
    <strong>Next</strong>: 
    <a class="next" href="{{ nextPost.url }}">{{ nextPost.data.date | readableDate }}: {{ nextPost.data.title }}</a>
  </p>
{% endif %}
{% if prevPost.url %}
  <p class="ctr">
    <strong>Previous</strong>: 
    <a class="previous" href="{{ prevPost.url }}">{{ prevPost.data.date | readableDate }}: {{ prevPost.data.title }}</a>
  </p>
{% endif %}

<nav>
  <a href="{{ '/timeline/' | url }}">‚Üê Timeline index</a>
</nav>

</div> {# closes div "container" that was started in the base layout. #}
<div class="container-wide">
  <div id="timeline-detail"></div>
  <div class="photo-timeline flex">
    {% set showYear = true %}
    {% set currentYear = "" %}
    {% for post in collections.post | reverse %}
    {% if showYear %}
      {% set postYear = post.date.getFullYear() %}
      {% if currentYear != postYear %}
          {% set currentYear = postYear %}
          <span class="post-year">{{ postYear }}</span>
      {% endif %}
    {% endif %}
    <div class="photo-timeline-link">
        {% if post.data.image %}
            <a class="tiny-thumbnail" href="{{ post.url }}"><img src="/static/img/timeline/thumbnails/32/{{ post.data.image }}"></a>
        {% else %}
            <a class="tiny-thumbnail" href="{{ post.url }}"></a>
        {% endif %}
        <div class="hidden">
          <time datetime="{{ post.date | machineDate }}">
            <small>{{ post.date | readableDate }}</small>
          </time>
            {% if post.data.title %}
              {{ post.data.title }}
            {% else %}
              Untitled
            {% endif %}

            {% if post.data.tags %}
                {% for tag in post.data.tags %}
                  {%- if tag != "post" -%}
                    {% set tagUrl %}/tags/{{ tag | slug }}/{% endset %}
                  <a href="{{ tagUrl | url }}" rel="tag">{{ tag }}</a>
                  {%- endif -%}
                {% endfor %}
            {% endif %}
        </div>
    </div>
  {% endfor %}
  </div>
</div>

<script>
$(document).ready(function(){
    var date1 = new Date("03/02/1967"); 
    var date2 = new Date($('#todays-date').text()); 
    var Difference_In_Time = date2.getTime() - date1.getTime(); 
    var Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24); 
    $('#days').html(Math.floor(Difference_In_Days)); 
});
</script>
